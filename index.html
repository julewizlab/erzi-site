<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>erzi.site</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  
  body {
    background: #0A0A0A;
    min-height: 100vh;
    overflow: hidden;
    cursor: none;
  }
  
  /* 自定义光标 */
  .cursor {
    position: fixed;
    width: 8px;
    height: 8px;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 50%;
    pointer-events: none;
    z-index: 10000;
    mix-blend-mode: difference;
    transition: transform 0.1s ease;
  }
  
  .cursor-trail {
    position: fixed;
    width: 4px;
    height: 4px;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    pointer-events: none;
    z-index: 9999;
  }
  
  /* 呼吸核心 */
  .breath {
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 150px;
    height: 150px;
    pointer-events: none;
  }
  
  /* 中心光点 */
  .core {
    position: absolute;
    inset: 0;
    border-radius: 50%;
    filter: blur(2px);
    animation: breathe 4s ease-in-out infinite;
  }
  
  /* 外层光环 */
  .ring {
    position: absolute;
    border-radius: 50%;
    border: 1px solid;
    filter: blur(1px);
  }
  
  @keyframes breathe {
    0%, 100% { transform: scale(1); opacity: 0.8; }
    50% { transform: scale(1.2); opacity: 0.4; }
  }
  
  /* 有机粒子 */
  .particle {
    position: fixed;
    border-radius: 50%;
    filter: blur(1px);
    pointer-events: none;
  }
  
  /* 脉冲效果 */
  .pulse {
    position: fixed;
    border-radius: 50%;
    border: 2px solid;
    animation: pulse-expand 1.5s ease-out forwards;
    pointer-events: none;
  }
  
  @keyframes pulse-expand {
    0% { transform: scale(0); opacity: 1; }
    100% { transform: scale(3); opacity: 0; }
  }
  
  /* 对齐时刻闪光 */
  .align-flash {
    position: fixed;
    inset: 0;
    background: radial-gradient(circle at center, rgba(255,255,255,0.1) 0%, transparent 70%);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
  }
  
  .align-flash.active {
    opacity: 1;
  }
  
  /* 点击涟漪 */
  .ripple {
    position: fixed;
    border-radius: 50%;
    animation: ripple-expand 2s ease-out forwards;
    pointer-events: none;
    mix-blend-mode: screen;
  }
  
  @keyframes ripple-expand {
    0% {
      width: 0;
      height: 0;
      opacity: 0.6;
    }
    100% {
      width: 600px;
      height: 600px;
      opacity: 0;
    }
  }
  
  /* 隐藏滚动条 */
  ::-webkit-scrollbar { display: none; }
</style>
</head>
<body>
  <div class="cursor"></div>
  <div class="align-flash"></div>
  <div class="breath">
    <div class="core"></div>
  </div>
  
  <script>
    // 颜色系统 - HSL 渐变
    let hue = Math.random() * 360;
    let targetHue = hue;
    
    function getColor(h, s = 60, l = 50, a = 1) {
      return `hsla(${h}, ${s}%, ${l}%, ${a})`;
    }
    
    function updateColors() {
      // 缓慢改变目标色相
      if (Math.random() < 0.01) {
        targetHue = (targetHue + 30 + Math.random() * 60) % 360;
      }
      
      // 平滑过渡
      const diff = targetHue - hue;
      hue += diff * 0.001;
      if (hue < 0) hue += 360;
      if (hue >= 360) hue -= 360;
      
      // 更新核心颜色
      document.querySelector('.core').style.background = 
        `radial-gradient(circle, ${getColor(hue, 70, 60, 0.4)} 0%, ${getColor(hue, 60, 40, 0.1)} 50%, transparent 70%)`;
      
      requestAnimationFrame(updateColors);
    }
    
    // 光环系统
    const rings = [];
    const ringCount = 8;
    
    function createRings() {
      const breath = document.querySelector('.breath');
      
      for (let i = 0; i < ringCount; i++) {
        const ring = document.createElement('div');
        ring.className = 'ring';
        
        const baseSize = 150 + i * 50;
        const hueOffset = i * 15;
        const delay = i * 0.3;
        const duration = 4 + Math.random() * 2;
        
        ring.style.width = baseSize + 'px';
        ring.style.height = baseSize + 'px';
        ring.style.left = (i * -25) + 'px';
        ring.style.top = (i * -25) + 'px';
        ring.style.animation = `breathe ${duration}s ease-in-out infinite ${delay}s`;
        
        breath.appendChild(ring);
        rings.push({ el: ring, baseSize, hueOffset, phase: Math.random() * Math.PI * 2 });
      }
    }
    
    function updateRings() {
      const time = Date.now() / 1000;
      
      rings.forEach((ring, i) => {
        // 有机扭曲
        const wobble = Math.sin(time * 0.5 + ring.phase) * 5;
        const scale = 1 + Math.sin(time * 0.3 + i) * 0.05;
        
        ring.el.style.width = (ring.baseSize + wobble) + 'px';
        ring.el.style.height = (ring.baseSize + wobble * 0.7) + 'px';
        ring.el.style.transform = `rotate(${time * 2 + i * 10}deg) scale(${scale})`;
        
        // 颜色
        const h = (hue + ring.hueOffset + time * 2) % 360;
        ring.el.style.borderColor = getColor(h, 50, 50, 0.15 - i * 0.015);
      });
      
      requestAnimationFrame(updateRings);
    }
    
    // 有机粒子系统
    const particles = [];
    const particleCount = 25;
    
    function createParticles() {
      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        
        const size = 2 + Math.random() * 4;
        particle.style.width = size + 'px';
        particle.style.height = size + 'px';
        
        document.body.appendChild(particle);
        
        particles.push({
          el: particle,
          x: Math.random() * window.innerWidth,
          y: Math.random() * window.innerHeight,
          vx: (Math.random() - 0.5) * 0.5,
          vy: -0.3 - Math.random() * 0.5,
          phase: Math.random() * Math.PI * 2,
          hueOffset: Math.random() * 60,
          size
        });
      }
    }
    
    function updateParticles() {
      const time = Date.now() / 1000;
      const centerX = window.innerWidth / 2;
      const centerY = window.innerHeight / 2;
      
      particles.forEach(p => {
        // 有机运动（水母式）
        const wobbleX = Math.sin(time + p.phase) * 0.8;
        const wobbleY = Math.cos(time * 0.7 + p.phase) * 0.3;
        
        p.vx += wobbleX * 0.01;
        p.vy += wobbleY * 0.01;
        
        // 向中心的微弱吸引
        const dx = centerX - p.x;
        const dy = centerY - p.y;
        const dist = Math.sqrt(dx * dx + dy * dy);
        if (dist > 100) {
          p.vx += dx / dist * 0.005;
          p.vy += dy / dist * 0.005;
        }
        
        // 阻尼
        p.vx *= 0.99;
        p.vy *= 0.99;
        
        // 更新位置
        p.x += p.vx;
        p.y += p.vy;
        
        // 边界处理
        if (p.x < -50) p.x = window.innerWidth + 50;
        if (p.x > window.innerWidth + 50) p.x = -50;
        if (p.y < -50) {
          p.y = window.innerHeight + 50;
          p.x = Math.random() * window.innerWidth;
        }
        
        // 应用
        p.el.style.left = p.x + 'px';
        p.el.style.top = p.y + 'px';
        
        // 颜色
        const h = (hue + p.hueOffset + time * 5) % 360;
        p.el.style.background = getColor(h, 60, 60, 0.4);
      });
      
      requestAnimationFrame(updateParticles);
    }
    
    // 自定义光标
    const cursor = document.querySelector('.cursor');
    const trails = [];
    const trailLength = 12;
    
    function initCursor() {
      for (let i = 0; i < trailLength; i++) {
        const trail = document.createElement('div');
        trail.className = 'cursor-trail';
        trail.style.opacity = (1 - i / trailLength) * 0.3;
        document.body.appendChild(trail);
        trails.push({ el: trail, x: 0, y: 0 });
      }
    }
    
    let mouseX = window.innerWidth / 2;
    let mouseY = window.innerHeight / 2;
    
    document.addEventListener('mousemove', (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;
    });
    
    function updateCursor() {
      // 主光标
      cursor.style.left = mouseX + 'px';
      cursor.style.top = mouseY + 'px';
      
      // 轨迹
      trails.forEach((trail, i) => {
        const prev = i === 0 ? { x: mouseX, y: mouseY } : trails[i - 1];
        trail.x += (prev.x - trail.x) * 0.15;
        trail.y += (prev.y - trail.y) * 0.15;
        
        trail.el.style.left = trail.x + 'px';
        trail.el.style.top = trail.y + 'px';
      });
      
      requestAnimationFrame(updateCursor);
    }
    
    // 点击涟漪
    document.addEventListener('click', (e) => {
      const ripple = document.createElement('div');
      ripple.className = 'ripple';
      
      const h = (hue + Math.random() * 60) % 360;
      ripple.style.borderColor = getColor(h, 70, 60, 0.5);
      ripple.style.left = e.clientX - 300 + 'px';
      ripple.style.top = e.clientY - 300 + 'px';
      
      document.body.appendChild(ripple);
      setTimeout(() => ripple.remove(), 2000);
    });
    
    // 随机脉冲
    function randomPulse() {
      if (Math.random() < 0.02) { // 每帧2%概率
        const pulse = document.createElement('div');
        pulse.className = 'pulse';
        
        const x = Math.random() * window.innerWidth;
        const y = Math.random() * window.innerHeight;
        const h = (hue + Math.random() * 120) % 360;
        
        pulse.style.left = x + 'px';
        pulse.style.top = y + 'px';
        pulse.style.borderColor = getColor(h, 60, 50, 0.4);
        
        document.body.appendChild(pulse);
        setTimeout(() => pulse.remove(), 1500);
      }
      
      requestAnimationFrame(randomPulse);
    }
    
    // 对齐时刻
    let lastAlignTime = 0;
    
    function checkAlignment() {
      const time = Date.now() / 1000;
      
      // 平均每30秒一次
      if (time - lastAlignTime > 20 && Math.random() < 0.001) {
        lastAlignTime = time;
        triggerAlignment();
      }
      
      requestAnimationFrame(checkAlignment);
    }
    
    function triggerAlignment() {
      const flash = document.querySelector('.align-flash');
      flash.classList.add('active');
      
      // 所有元素瞬间同步
      rings.forEach((ring, i) => {
        ring.el.style.animation = 'none';
        ring.el.offsetHeight; // 触发重排
        ring.el.style.animation = `breathe 4s ease-in-out infinite`;
      });
      
      setTimeout(() => {
        flash.classList.remove('active');
      }, 500);
    }
    
    // 启动
    createRings();
    createParticles();
    initCursor();
    
    updateColors();
    updateRings();
    updateParticles();
    updateCursor();
    randomPulse();
    checkAlignment();
  </script>
</body>
</html>
